app.directive("scrollSpy",function(e){return{restrict:"A",controller:function(e){e.spies=[];return this.addSpy=function(t){return e.spies.push(t)}},link:function(t,n,r){var i;i=[];t.$watch("spies",function(e){var t,r,s,o;o=[];for(r=0,s=e.length;r<s;r++){t=e[r];i[t.id]==null?o.push(i[t.id]=n.find("#"+t.id)):o.push(void 0)}return o});return $(e).scroll(function(){var n,r,s,o,u,a;n=null;a=t.spies;for(o=0,u=a.length;o<u;o++){s=a[o];s.out();if((r=i[s.id].offset().top)-e.scrollY<=100){s.pos=r;n==null&&(n=s);n.pos<s.pos&&(n=s)}}return n!=null?n["in"]():void 0})}}});app.directive("spy",function(){return{restrict:"A",require:"^scrollSpy",link:function(e,t,n,r){return r.addSpy({id:n.spy,"in":function(){return t.addClass("current")},out:function(){return t.removeClass("current")}})}}});app.directive("scrollTo",function(e,t){return function(e,t,n){t.bind("click",function(e){var t=n.scrollTo,r=$("#"+t),i=r.offset().top-80;$("html, body").animate({scrollTop:i},1e3)})}});